/*
 *
 * Copyright (c) 2016. Enterprise Architecture Group, EACG
 *
 * SPDX-License-Identifier:	MIT
 *
 */

group 'de.eacg'
version '1.0-SNAPSHOT'

buildscript {
    dependencies {
        classpath group: 'de.eacg', name: 'ecs-gradle-plugin', version: '1.0-SNAPSHOT'
        classpath(group: 'de.eacg', name: 'ecs-mvn-plugin', version:'0.1.3') {
            exclude group: 'org.sonatype.sisu', module: 'sisu-guice'
            exclude group: 'org.codehaus.mojo', module: 'license-maven-plugin'
            exclude group: 'org.apache.maven'
            exclude group: 'org.apache.maven.shared'
            exclude group: 'org.apache.maven.plugin-tools'
            exclude group: 'org.twdata.maven'
        }

    }
    repositories {
        mavenLocal()
    }
}

apply plugin: 'groovy'
apply plugin: 'maven'
apply plugin: 'de.eacg.ecs.plugin.gradle'

sourceCompatibility = 1.6
targetCompatibility = 1.6

repositories {
    mavenLocal()
    mavenCentral()
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: uri('../repo'))
        }
    }
}

dependencies {
    compile gradleApi()
    compile localGroovy()
    compile(group: 'de.eacg', name: 'ecs-mvn-plugin', version:'0.1.3') {
        exclude group: 'org.sonatype.sisu', module: 'sisu-guice'
        exclude group: 'org.codehaus.mojo', module: 'license-maven-plugin'
        exclude group: 'org.apache.maven'
        exclude group: 'org.apache.maven.shared'
        exclude group: 'org.apache.maven.plugin-tools'
        exclude group: 'org.twdata.maven'

    }
    testCompile 'junit:junit:4.12'
    testCompile 'de.eacg:ecs-mvn-plugin:0.1.3'
}

ecsPlugin{
    configuration 'runtime', 'testCompile'
    configuration 'runtime'
    credentials =  '~/.ecsrc.json'

    skipTransfer = true
}